{"ast":null,"code":"import _slicedToArray from\"/Users/sindritomasson/Desktop/youtube/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{useSelector}from\"react-redux\";import Search from\"../Search/Search\";import{Div2,Div3,NavContainer}from\"./NavbarStyles\";import{signOutWithGoogle,signInWithGoogleRedirect,getGoogleRedirectResults}from\"../../firebase-config\";import{getUser,postUser}from\"../../axios/axios\";import\"./navbar.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Navbar=function Navbar(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),done=_useState2[0],setDone=_useState2[1];var users=useSelector(function(state){return state.users;});console.log(users);//todo DET KAN HENDE USER ER KNYTTET TIL URL OG DERFOR FORURSAKER REFRESH?\n// Gets results (user data) from sign in with redirect when finished\nuseEffect(function(){getGoogleRedirectResults().then(function(res){console.log(res);console.log(\"Loaded sign in data\");}).catch(function(error){return console.log(error);});},[done]);// Sign in with google redirect\nvar handleLogin=function handleLogin(){signInWithGoogleRedirect().then(function(){return console.log(\"Redirecting\");}).finally(function(){return setDone(true);});};// Sign out with google, sets user state to null\nvar handleLogout=function handleLogout(){signOutWithGoogle().then(function(){console.log(\"logged out\");//saveUser(null);\n}).catch(function(error){console.log(error);});};var handleGetUser=function handleGetUser(){getUser();};var handlePostUser=function handlePostUser(){postUser({username:\"gamer\",email:\"yoyoyo\",profilePic:\"dette er url.com\"});};return/*#__PURE__*/_jsxs(NavContainer,{children:[/*#__PURE__*/_jsx(Div2,{children:/*#__PURE__*/_jsx(Search,{})}),/*#__PURE__*/_jsxs(Div3,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleLogin,children:\"Sign In\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,children:\"Sign Out\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleGetUser,children:\"Get User\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handlePostUser,children:\"Post User\"})]})]});};export default Navbar;","map":{"version":3,"sources":["/Users/sindritomasson/Desktop/youtube/frontend/src/components/Navbar/Navbar.tsx"],"names":["React","useEffect","useState","useSelector","Search","Div2","Div3","NavContainer","signOutWithGoogle","signInWithGoogleRedirect","getGoogleRedirectResults","getUser","postUser","Navbar","done","setDone","users","state","console","log","then","res","catch","error","handleLogin","finally","handleLogout","handleGetUser","handlePostUser","username","email","profilePic"],"mappings":"oIAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,WAAT,KAA4B,aAA5B,CAEA,MAAOC,CAAAA,MAAP,KAAmB,kBAAnB,CAEA,OAASC,IAAT,CAAeC,IAAf,CAAqBC,YAArB,KAAyC,gBAAzC,CACA,OAEEC,iBAFF,CAGEC,wBAHF,CAIEC,wBAJF,KAKO,uBALP,CAMA,OAASC,OAAT,CAAkBC,QAAlB,KAAkC,mBAAlC,CAIA,MAAO,cAAP,C,wFAGA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACnB,cAAwBX,QAAQ,CAAU,KAAV,CAAhC,wCAAOY,IAAP,eAAaC,OAAb,eACA,GAAMC,CAAAA,KAAK,CAAGb,WAAW,CAAC,SAACc,KAAD,QAAkBA,CAAAA,KAAK,CAACD,KAAxB,EAAD,CAAzB,CAEAE,OAAO,CAACC,GAAR,CAAYH,KAAZ,EACA;AAEA;AACAf,SAAS,CAAC,UAAM,CACdS,wBAAwB,GACrBU,IADH,CACQ,SAACC,GAAD,CAAS,CACbH,OAAO,CAACC,GAAR,CAAYE,GAAZ,EACAH,OAAO,CAACC,GAAR,CAAY,qBAAZ,EACD,CAJH,EAKGG,KALH,CAKS,SAACC,KAAD,QAAWL,CAAAA,OAAO,CAACC,GAAR,CAAYI,KAAZ,CAAX,EALT,EAMD,CAPQ,CAON,CAACT,IAAD,CAPM,CAAT,CASA;AACA,GAAMU,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxBf,wBAAwB,GACrBW,IADH,CACQ,iBAAMF,CAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,CAAN,EADR,EAEGM,OAFH,CAEW,iBAAMV,CAAAA,OAAO,CAAC,IAAD,CAAb,EAFX,EAGD,CAJD,CAMA;AACA,GAAMW,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzBlB,iBAAiB,GACdY,IADH,CACQ,UAAM,CACVF,OAAO,CAACC,GAAR,CAAY,YAAZ,EACA;AACD,CAJH,EAKGG,KALH,CAKS,SAACC,KAAD,CAAW,CAChBL,OAAO,CAACC,GAAR,CAAYI,KAAZ,EACD,CAPH,EAQD,CATD,CAWA,GAAMI,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CAC1BhB,OAAO,GACR,CAFD,CAGA,GAAMiB,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAC3BhB,QAAQ,CAAC,CAAEiB,QAAQ,CAAE,OAAZ,CAAqBC,KAAK,CAAE,QAA5B,CAAsCC,UAAU,CAAE,kBAAlD,CAAD,CAAR,CACD,CAFD,CAIA,mBACE,MAAC,YAAD,yBACE,KAAC,IAAD,wBACE,KAAC,MAAD,IADF,EADF,cAIE,MAAC,IAAD,yBACE,eAAQ,OAAO,CAAEP,WAAjB,qBADF,cAEE,eAAQ,OAAO,CAAEE,YAAjB,sBAFF,cAIE,eAAQ,OAAO,CAAEC,aAAjB,sBAJF,cAKE,eAAQ,OAAO,CAAEC,cAAjB,uBALF,GAJF,GADF,CAcD,CAzDD,CA2DA,cAAef,CAAAA,MAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\n\nimport Search from \"../Search/Search\";\n\nimport { Div2, Div3, NavContainer } from \"./NavbarStyles\";\nimport {\n  signInWithGoogle,\n  signOutWithGoogle,\n  signInWithGoogleRedirect,\n  getGoogleRedirectResults,\n} from \"../../firebase-config\";\nimport { getUser, postUser } from \"../../axios/axios\";\n\nimport axios from \"axios\";\n\nimport \"./navbar.css\";\nimport { State } from \"../../state/reducers\";\n\nconst Navbar = () => {\n  const [done, setDone] = useState<boolean>(false);\n  const users = useSelector((state: State) => state.users);\n\n  console.log(users);\n  //todo DET KAN HENDE USER ER KNYTTET TIL URL OG DERFOR FORURSAKER REFRESH?\n\n  // Gets results (user data) from sign in with redirect when finished\n  useEffect(() => {\n    getGoogleRedirectResults()\n      .then((res) => {\n        console.log(res);\n        console.log(\"Loaded sign in data\");\n      })\n      .catch((error) => console.log(error));\n  }, [done]);\n\n  // Sign in with google redirect\n  const handleLogin = () => {\n    signInWithGoogleRedirect()\n      .then(() => console.log(\"Redirecting\"))\n      .finally(() => setDone(true));\n  };\n\n  // Sign out with google, sets user state to null\n  const handleLogout = () => {\n    signOutWithGoogle()\n      .then(() => {\n        console.log(\"logged out\");\n        //saveUser(null);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const handleGetUser = () => {\n    getUser();\n  };\n  const handlePostUser = () => {\n    postUser({ username: \"gamer\", email: \"yoyoyo\", profilePic: \"dette er url.com\" });\n  };\n\n  return (\n    <NavContainer>\n      <Div2>\n        <Search />\n      </Div2>\n      <Div3>\n        <button onClick={handleLogin}>Sign In</button>\n        <button onClick={handleLogout}>Sign Out</button>\n        {/* <button onClick={() => console.log(user)}>Check state</button> */}\n        <button onClick={handleGetUser}>Get User</button>\n        <button onClick={handlePostUser}>Post User</button>\n      </Div3>\n    </NavContainer>\n  );\n};\n\nexport default Navbar;\n"]},"metadata":{},"sourceType":"module"}